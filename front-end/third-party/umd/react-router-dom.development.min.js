!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("history"),require("react-router")):"function"==typeof define&&define.amd?define(["exports","react","history","react-router"],t):t((e=e||self).ReactRouterDOM={},e.React,e.HistoryLibrary,e.ReactRouter)}(this,function(e,m,i,h){"use strict";function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),a=0;a<o.length;a++)r=o[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}const l=["onClick","reloadDocument","replace","state","target","to"],P=["aria-current","caseSensitive","className","end","style","to","children"];function t(e){let{basename:t,children:r,history:n}=e;const[o,a]=m.useState({action:n.action,location:n.location});return m.useLayoutEffect(()=>n.listen(a),[n]),m.createElement(h.Router,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:n})}t.displayName="unstable_HistoryRouter";const v=m.forwardRef(function(e,t){let{onClick:r,reloadDocument:n,replace:o=!1,state:a,target:u,to:i}=e,c=g(e,l);e=h.useHref(i);let s=f(i,{replace:o,state:a,target:u});return m.createElement("a",b({},c,{href:e,onClick:function(e){r&&r(e),e.defaultPrevented||n||s(e)},ref:t,target:u}))});v.displayName="Link";const r=m.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:o="",end:a=!1,style:u,to:i,children:c}=e,s=g(e,P);var l=h.useLocation(),f=h.useResolvedPath(i);let d=l.pathname,y=f.pathname;n||(d=d.toLowerCase(),y=y.toLowerCase());e=d===y||!a&&d.startsWith(y)&&"/"===d.charAt(y.length),l=e?r:void 0;let p;p="function"==typeof o?o({isActive:e}):[o,e?"active":null].filter(Boolean).join(" ");f="function"==typeof u?u({isActive:e}):u;return m.createElement(v,b({},s,{"aria-current":l,className:p,ref:t,style:f,to:i}),"function"==typeof c?c({isActive:e}):c)});function f(r,e){let{target:n,replace:o,state:a}=void 0===e?{}:e,u=h.useNavigate(),i=h.useLocation(),c=h.useResolvedPath(r);return m.useCallback(e=>{var t;0!==e.button||n&&"_self"!==n||((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)||(e.preventDefault(),e=!!o||h.createPath(i)===h.createPath(c),u(r,{replace:e,state:a}))},[i,u,c,o,a,n,r])}function o(n){return void 0===n&&(n=""),new URLSearchParams("string"==typeof n||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(e=>[t,e]):[[t,r]])},[]))}r.displayName="NavLink",Object.defineProperty(e,"MemoryRouter",{enumerable:!0,get:function(){return h.MemoryRouter}}),Object.defineProperty(e,"Navigate",{enumerable:!0,get:function(){return h.Navigate}}),Object.defineProperty(e,"NavigationType",{enumerable:!0,get:function(){return h.NavigationType}}),Object.defineProperty(e,"Outlet",{enumerable:!0,get:function(){return h.Outlet}}),Object.defineProperty(e,"Route",{enumerable:!0,get:function(){return h.Route}}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return h.Router}}),Object.defineProperty(e,"Routes",{enumerable:!0,get:function(){return h.Routes}}),Object.defineProperty(e,"UNSAFE_LocationContext",{enumerable:!0,get:function(){return h.UNSAFE_LocationContext}}),Object.defineProperty(e,"UNSAFE_NavigationContext",{enumerable:!0,get:function(){return h.UNSAFE_NavigationContext}}),Object.defineProperty(e,"UNSAFE_RouteContext",{enumerable:!0,get:function(){return h.UNSAFE_RouteContext}}),Object.defineProperty(e,"createPath",{enumerable:!0,get:function(){return h.createPath}}),Object.defineProperty(e,"createRoutesFromChildren",{enumerable:!0,get:function(){return h.createRoutesFromChildren}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return h.generatePath}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return h.matchPath}}),Object.defineProperty(e,"matchRoutes",{enumerable:!0,get:function(){return h.matchRoutes}}),Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return h.parsePath}}),Object.defineProperty(e,"renderMatches",{enumerable:!0,get:function(){return h.renderMatches}}),Object.defineProperty(e,"resolvePath",{enumerable:!0,get:function(){return h.resolvePath}}),Object.defineProperty(e,"useHref",{enumerable:!0,get:function(){return h.useHref}}),Object.defineProperty(e,"useInRouterContext",{enumerable:!0,get:function(){return h.useInRouterContext}}),Object.defineProperty(e,"useLocation",{enumerable:!0,get:function(){return h.useLocation}}),Object.defineProperty(e,"useMatch",{enumerable:!0,get:function(){return h.useMatch}}),Object.defineProperty(e,"useNavigate",{enumerable:!0,get:function(){return h.useNavigate}}),Object.defineProperty(e,"useNavigationType",{enumerable:!0,get:function(){return h.useNavigationType}}),Object.defineProperty(e,"useOutlet",{enumerable:!0,get:function(){return h.useOutlet}}),Object.defineProperty(e,"useOutletContext",{enumerable:!0,get:function(){return h.useOutletContext}}),Object.defineProperty(e,"useParams",{enumerable:!0,get:function(){return h.useParams}}),Object.defineProperty(e,"useResolvedPath",{enumerable:!0,get:function(){return h.useResolvedPath}}),Object.defineProperty(e,"useRoutes",{enumerable:!0,get:function(){return h.useRoutes}}),e.BrowserRouter=function(e){var{basename:t,children:r,window:e}=e;let n=m.useRef();null==n.current&&(n.current=i.createBrowserHistory({window:e}));let o=n.current,[a,u]=m.useState({action:o.action,location:o.location});return m.useLayoutEffect(()=>o.listen(u),[o]),m.createElement(h.Router,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o})},e.HashRouter=function(e){var{basename:t,children:r,window:e}=e;let n=m.useRef();null==n.current&&(n.current=i.createHashHistory({window:e}));let o=n.current,[a,u]=m.useState({action:o.action,location:o.location});return m.useLayoutEffect(()=>o.listen(u),[o]),m.createElement(h.Router,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o})},e.Link=v,e.NavLink=r,e.createSearchParams=o,e.unstable_HistoryRouter=t,e.useLinkClickHandler=f,e.useSearchParams=function(e){!function(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params\n\nIf you're unsure how to load polyfills, we recommend you check out https://polyfill.io/v3/ which provides some recommendations about how to load polyfills only for users that need them, instead of for every user.");let n=m.useRef(o(e)),t=h.useLocation();e=m.useMemo(()=>{let r=o(t.search);for(let t of n.current.keys())r.has(t)||n.current.getAll(t).forEach(e=>{r.append(t,e)});return r},[t.search]);let r=h.useNavigate();return[e,m.useCallback((e,t)=>{r("?"+o(e),t)},[r])]},Object.defineProperty(e,"__esModule",{value:!0})});